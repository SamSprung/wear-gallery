(function(e){function t(t){for(var n,i,u=t[0],l=t[1],o=t[2],f=0,d=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,u=1;u<a.length;u++){var l=a[u];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var o=0;o<u.length;o++)t(u[o]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"034f":function(e,t,a){"use strict";a("85ec")},3504:function(e){e.exports=JSON.parse('{"logo":"腕间图库 | 图片上传","language":"语言","dragFilesHere":"将文件拖到此处，或 ","clickToSelect":"点击选择","nonImageFileWarn":"仅支持图片文件","uploadError":"图片上传失败: {name}","retry":"重试","retryAll":"全部重试"}')},"49f8":function(e,t,a){var n={"./en.json":"edd4","./zh.json":"3504"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="49f8"},"4dcb":function(e,t,a){},"59d7":function(e,t,a){"use strict";a("a275")},8145:function(e,t,a){"use strict";a("c5bb")},"85ec":function(e,t,a){},a275:function(e,t,a){},c5bb:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=(a("0fb7"),a("450d"),a("f529")),s=a.n(r),i=(a("bd49"),a("18ff")),u=a.n(i),l=(a("960d"),a("defb")),o=a.n(l),c=(a("cb70"),a("b370")),f=a.n(c),d=(a("6b30"),a("c284")),p=a.n(d),g=(a("f225"),a("89a9")),h=a.n(g),m=(a("1951"),a("eedf")),v=a.n(m),b=(a("f4f9"),a("c2cc")),y=a.n(b),w=(a("7a0f"),a("0f6c")),O=a.n(w);n["default"].use(O.a),n["default"].use(y.a),n["default"].use(v.a),n["default"].use(h.a),n["default"].use(p.a),n["default"].use(f.a),n["default"].use(o.a),n["default"].use(u.a),n["default"].prototype.$message=s.a;var k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Header"),a("Content")],1)},C=[],_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("el-row",[a("el-col",{staticClass:"header-content",attrs:{lg:24,xl:24}},[a("span",{staticClass:"title"},[e._v(e._s(e.$t("logo")))]),a("el-dropdown",{staticClass:"langSelector",attrs:{trigger:"click",type:"primary"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$t("language"))+" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"zh"}},[e._v("简体中文")]),a("el-dropdown-item",{attrs:{command:"en"}},[e._v("English")])],1)],1)],1)],1)],1)},x=[],S=a("d4ec"),j=a("bee2"),$=a("262e"),q=a("2caf"),E=(a("2ca0"),a("9ab4")),F=a("2fe1"),N=function(e){Object($["a"])(a,e);var t=Object(q["a"])(a);function a(){return Object(S["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"detectLanguage",value:function(){var e,t,a=window.navigator,n=["language","browserLanguage","systemLanguage","userLanguage"];if(Array.isArray(a.languages))for(e=0;e<a.languages.length;e++)if(t=a.languages[e],t&&t.length)return t;for(e=0;e<n.length;e++)if(t=a[n[e]],t&&t.length)return t;return"en"}},{key:"created",value:function(){var e=sessionStorage.getItem("language"),t=e||this.detectLanguage();t.startsWith("zh")?this.$i18n.locale="zh":this.$i18n.locale="en"}},{key:"handleCommand",value:function(e){this.$i18n.locale=e}}]),a}(n["default"]);N=Object(E["a"])([F["a"]],N);var R,A=N,T=A,I=(a("59d7"),a("2877")),L=Object(I["a"])(T,_,x,!1,null,"1defdfda",null),P=L.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("el-row",{staticStyle:{height:"100%"}},[a("el-col",{staticStyle:{height:"1px"},attrs:{span:3}}),a("el-col",{staticClass:"home-content",attrs:{span:18}},[a("el-upload",{ref:"upload",staticClass:"upload",attrs:{drag:"",action:"void",multiple:"","http-request":e.uploadRequest,"on-change":e.handleOnFileChange,"auto-upload":!1,"list-type":"picture"}},[a("div",{staticClass:"el-upload-text"},[e._v(" "+e._s(e.$t("dragFilesHere"))+" "),a("em",[e._v(e._s(e.$t("clickToSelect")))])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.failedNum>0,expression:"failedNum > 0"}],staticClass:"reUploadAll"},[a("div"),a("div",[a("el-button",{staticClass:"reUploadAll-btn",on:{click:e.retryAll}},[e._v(" "+e._s(e.$t("retryAll"))+" "),a("i",{staticClass:"el-icon-refresh"})])],1)]),e._l(e.items,(function(t,n){return a("div",{key:n,staticStyle:{width:"70%"}},[a("transition",{attrs:{name:"el-fade-in"}},[a("div",{staticClass:"upload-item",class:{"bg-normal":t.status===e.Status.waiting,"bg-uploading":t.status===e.Status.uploading,"bg-success":t.status===e.Status.success,"bg-fail":t.status===e.Status.fail}},[a("div",{staticClass:"image-info"},[a("img",{staticClass:"image",attrs:{src:t.url,alt:"iamge"}}),a("span",{staticClass:"image-name"},[e._v(e._s(t.file.name))])]),t.status===e.Status.fail?a("div",{staticClass:"item-mask-fail"},[a("el-button",{staticClass:"reUpload-btn",attrs:{type:"danger",round:""},on:{click:function(a){return e.enqueue(t)}}},[e._v(" "+e._s(e.$t("retry"))+" ")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(a){return e.removeItem(t)}}})],1):e._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.status!==e.Status.uploading,expression:"item.status !== Status.uploading"}],staticClass:"item-controls"},[a("i",{staticClass:"el-icon-close",staticStyle:{color:"#838283","margin-left":"5px",cursor:"pointer"},on:{click:function(a){return e.removeItem(t)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.status===e.Status.uploading,expression:"item.status === Status.uploading"}],staticClass:"prograss"},[a("el-progress",{attrs:{percentage:t.prograss,format:e.progressFormat,"stroke-width":3}})],1)])])],1)}))],2),a("el-col",{attrs:{span:3}})],1)],1)},W=[],z=a("1da1");a("96cf"),a("d3b7"),a("25f0"),a("159b"),a("4de4"),a("a434"),a("b0c0");(function(e){e[e["waiting"]=0]="waiting",e[e["uploading"]=1]="uploading",e[e["success"]=2]="success",e[e["fail"]=3]="fail"})(R||(R={}));var H=function e(t,a){Object(S["a"])(this,e),this.status=R.waiting,this.progress=0,this.file=t,this.url=a},M="upload",D=function(e){Object($["a"])(a,e);var t=Object(q["a"])(a);function a(){var e;return Object(S["a"])(this,a),e=t.apply(this,arguments),e.items=[],e.failedNum=0,e.isRunning=!1,e.Status=R,e.queue=[],e}return Object(j["a"])(a,[{key:"handleOnFileChange",value:function(e){if("ready"==e.status)if(e.raw.type.startsWith("image/")){var t=new H(e.raw,e.url);this.items.push(t),this.enqueue(t)}else this.$message.warning(this.$i18n.t("nonImageFileWarn").toString())}},{key:"uploadRequest",value:function(){}},{key:"progressFormat",value:function(){return""}},{key:"retryAll",value:function(){var e=this;this.items.filter((function(e){return e.status===R.fail})).forEach((function(t){e.retry(t)}))}},{key:"retry",value:function(e){e.status===R.fail&&this.enqueue(e)}},{key:"enqueue",value:function(e){e.status===R.fail&&this.failedNum--,e.status=R.waiting,this.queue.push(e),this.isRunning||this.startUpload()}},{key:"removeItem",value:function(e){var t=this.queue.indexOf(e);if(-1!=t){if(this.queue[t].status===R.uploading)return;this.queue.splice(t,1)}t=this.items.indexOf(e),-1!=t&&(e.status===R.fail&&this.failedNum--,this.items.splice(t,1))}},{key:"startUpload",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isRunning){e.next=2;break}return e.abrupt("return");case 2:this.isRunning=!0,t=this.queue.shift();case 4:if(!t){e.next=17;break}return e.next=7,this.uploadItem(t);case 7:if(!e.sent){e.next=11;break}e.t0=R.success,e.next=12;break;case 11:e.t0=R.fail;case 12:t.status=e.t0,t.status===R.fail&&(this.failedNum++,this.$message.error(this.$i18n.t("uploadError",{name:t.file.name}).toString())),t=this.queue.shift(),e.next=4;break;case 17:this.isRunning=!1;case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"uploadItem",value:function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=new FormData,a.append("image",t.file,t.file.name),t.status=R.uploading,e.next=6,this.axios.post(M,a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){e.lengthComputable&&(t.progress=e.loaded/e.total*100)}});case 6:return n=e.sent,e.abrupt("return",201==n.status);case 10:return e.prev=10,e.t0=e["catch"](0),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()}]),a}(n["default"]);D=Object(E["a"])([F["a"]],D);var J=D,G=J,K=(a("8145"),Object(I["a"])(G,U,W,!1,null,"10133ad7",null)),Z=K.exports,B={name:"app",components:{Header:P,Content:Z}},Q=B,V=(a("034f"),Object(I["a"])(Q,k,C,!1,null,null,null)),X=V.exports,Y=(a("ddb0"),a("ac1f"),a("466d"),a("a925"));function ee(){var e=a("49f8"),t={};return e.keys().forEach((function(a){var n=a.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){var r=n[1];t[r]=e(a)}})),t}n["default"].use(Y["a"]);var te=new Y["a"]({locale:"en",fallbackLocale:"en",messages:ee()}),ae=a("73ef"),ne=a.n(ae),re=a("9e39"),se=a.n(re);a("4dcb");n["default"].use(se.a,ne.a),n["default"].config.productionTip=!1,new n["default"]({i18n:te,render:function(e){return e(X)}}).$mount("#app")},edd4:function(e){e.exports=JSON.parse('{"logo":"Wear Gallery | Transmission","language":"Language","dragFilesHere":"Drag the files here, or ","clickToSelect":"CLICK TO SELECT","nonImageFileWarn":"Only picture files are supported.","uploadError":"Failed to upload {name}.","retry":"Retry","retryAll":"Retry All"}')}});